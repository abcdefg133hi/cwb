setwd("~/cwb")
FILE='cwb2010-2017.csv'
x=read.csv(FILE,skip=1,header=F)
title=c("觀測時間","測站氣壓","海面氣壓",
"測站最高氣壓","測站最高氣壓時間","測站最低氣壓",
"測站最低氣壓時間","氣溫","最高氣溫","最高氣溫時間",
"最低氣溫","最低氣溫時間","露點溫度","相對溼度",
"最小相對溼度","最小相對溼度時間","風速","風向",
"最大陣風","最大陣風風向","最大陣風風速時間",
"降水量","降水時數","觀測10分鐘最大降水量",
"觀測10分鐘最大降水起始時間","一小時最大降水量",
"一小時最大降水量起始時間","日照時數","日照率",
"全天空日射量","能見度","A型蒸發量")
names(x) = title
View(x)
x=read.csv(FILE,skip=0,header=F)
title=c("觀測時間","測站氣壓","海面氣壓",
"測站最高氣壓","測站最高氣壓時間","測站最低氣壓",
"測站最低氣壓時間","氣溫","最高氣溫","最高氣溫時間",
"最低氣溫","最低氣溫時間","露點溫度","相對溼度",
"最小相對溼度","最小相對溼度時間","風速","風向",
"最大陣風","最大陣風風向","最大陣風風速時間",
"降水量","降水時數","觀測10分鐘最大降水量",
"觀測10分鐘最大降水起始時間","一小時最大降水量",
"一小時最大降水量起始時間","日照時數","日照率",
"全天空日射量","能見度","A型蒸發量")
names(x) = title
data201001[grep(2010-01,x$觀測時間),]
data201001=x[grep(2010-01,x$觀測時間),]
View(data201001)
data201001=x[grep(2010-01,x$測站最高氣壓時間),]
data201001=x[grep(2010-01,x$測站最高氣壓時間),]
View(data201001)
data201001=x[grep("2010-01",x$測站最高氣壓時間),]
View(data201001)
data201001=x[grep("2010-01",x$測站最高氣壓時間),]
data201002=x[grep("2010-02",x$測站最高氣壓時間),]
data201003=x[grep("2010-03",x$測站最高氣壓時間),]
data201004=x[grep("2010-04",x$測站最高氣壓時間),]
data201005=x[grep("2010-05",x$測站最高氣壓時間),]
data201006=x[grep("2010-06",x$測站最高氣壓時間),]
getweather=function(FILE,LABEL) {
title=c("觀測時間","測站氣壓","海面氣壓",
"測站最高氣壓","測站最高氣壓時間","測站最低氣壓",
"測站最低氣壓時間","氣溫","最高氣溫","最高氣溫時間",
"最低氣溫","最低氣溫時間","露點溫度","相對溼度",
"最小相對溼度","最小相對溼度時間","風速","風向",
"最大陣風","最大陣風風向","最大陣風風速時間",
"降水量","降水時數","觀測10分鐘最大降水量",
"觀測10分鐘最大降水起始時間","一小時最大降水量",
"一小時最大降水量起始時間","日照時數","日照率",
"全天空日射量","能見度","A型蒸發量")
x=read.csv(FILE,skip=1,header=F)
names(x) = title; y=x[,c(1,2,8,9,11,14)];
y['label']=LABEL; return (y) ;
}
jul = getweather('201707.csv', '201707')
aug = getweather('201708.csv', '201708')
sep = getweather('201709.csv', '201709')
oct = getweather('201710.csv', '201710')
nov = getweather('201711.csv', '201711')
par(mar=c(5,4,4,2)+1)
boxplot(sep[,c(3,4,5)],ylab="氣溫" ,xlab="201709", las=1)
boxplot(aug[,c(3,4,5)],ylab="氣溫" ,xlab="201708", las=1)
boxplot(nov[,c(3,4,5)],ylab="氣溫" ,xlab="201711", las=1)
plot(jul$測站氣壓,type="b", pch=16, col="black",las=1,xlab="日期",
ylab="大氣壓",main="2017/07", axes=TRUE)
data201007=x[grep("2010-07",x$測站最低氣壓時間),]
plot(data201007$測站氣壓,type="b", pch=16, col="black",las=1,xlab="日期",
ylab="大氣壓",main="2010/07", axes=TRUE)
data201010=x[grep("2010-10",x$測站最低氣壓時間),]
plot(data201010$測站氣壓,type="b", pch=16, col="black",las=1,xlab="日期",
ylab="大氣壓",main="2010/07", axes=TRUE)
data201009=x[grep("2010-09",x$測站最低氣壓時間),]
plot(data201009$測站氣壓,type="b", pch=16, col="black",las=1,xlab="日期",
ylab="大氣壓",main="2010/09", axes=TRUE)
